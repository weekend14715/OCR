╔═══════════════════════════════════════════════════════════════╗
║                                                               ║
║     📧 HỆ THỐNG EMAIL - OCR TOOL LICENSE (HOÀN TẤT)          ║
║                                                               ║
╚═══════════════════════════════════════════════════════════════╝

✅ ĐÃ CẤU HÌNH XONG!

┌───────────────────────────────────────────────────────────────┐
│ 📧 TÀI KHOẢN EMAIL                                            │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ TÀI KHOẢN 1:                                                  │
│   Email: ocrtool.license@gmail.com                            │
│   App Password: gjxh qhqr flvj zurg                           │
│   Daily Limit: 500 emails/day                                 │
│                                                               │
│ TÀI KHOẢN 2:                                                  │
│   Email: ocrtool.system@gmail.com                             │
│   App Password: xjoq oaed kwzj fvxj                           │
│   Daily Limit: 500 emails/day                                 │
│                                                               │
│ TỔNG: 1000 emails/ngày ✅                                     │
│                                                               │
└───────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────┐
│ 📁 FILES ĐÃ TẠO                                               │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ 1. license_server/email_config.py                             │
│    → Cấu hình 2 tài khoản Gmail                               │
│                                                               │
│ 2. license_server/email_sender.py                             │
│    → Module gửi email tự động                                 │
│                                                               │
│ 3. test_email_config.py                                       │
│    → Script test hệ thống email                               │
│                                                               │
│ 4. EMAIL_SYSTEM_GUIDE.md                                      │
│    → Hướng dẫn chi tiết                                       │
│                                                               │
│ 5. license_server/app.py                                      │
│    → ĐÃ TÍCH HỢP email sender ✅                              │
│                                                               │
└───────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────┐
│ 🚀 SỬ DỤNG NGAY                                               │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ BƯỚC 1: Test gửi email                                        │
│                                                               │
│   python test_email_config.py                                 │
│                                                               │
│ BƯỚC 2: Chọn "1. Test gửi 1 email"                            │
│                                                               │
│ BƯỚC 3: Nhập email nhận của bạn                               │
│                                                               │
│ BƯỚC 4: Check email (cả Spam/Junk)                            │
│                                                               │
└───────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────┐
│ 🔄 TỰ ĐỘNG HÓA                                                │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ Khi khách hàng thanh toán thành công:                         │
│                                                               │
│   1. Hệ thống tạo license key                                 │
│   2. TỰ ĐỘNG gửi email cho khách hàng ✅                      │
│   3. Email chứa license key + hướng dẫn                       │
│   4. Khách hàng nhận ngay lập tức                             │
│                                                               │
│ Tự động chuyển đổi giữa 2 tài khoản khi hết quota!            │
│                                                               │
└───────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────┐
│ ✨ TÍNH NĂNG                                                   │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ ✅ 2 tài khoản Gmail (1000 emails/ngày)                       │
│ ✅ Tự động chuyển đổi account                                 │
│ ✅ Tracking usage hàng ngày                                   │
│ ✅ Email HTML đẹp, responsive                                 │
│ ✅ Tự động reset quota mỗi ngày                               │
│ ✅ Error handling đầy đủ                                      │
│ ✅ Tích hợp vào license server                                │
│                                                               │
└───────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────┐
│ 📊 THEO DÕI USAGE                                             │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ File: license_server/email_usage.json (tự động tạo)           │
│                                                               │
│ Xem trạng thái:                                               │
│   python test_email_config.py                                 │
│   → Chọn "3. Xem trạng thái"                                  │
│                                                               │
│ Hoặc trong code:                                              │
│   from license_server.email_sender import LicenseEmailSender  │
│   sender = LicenseEmailSender()                               │
│   status = sender.get_status()                                │
│                                                               │
└───────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────┐
│ 📧 EMAIL TEMPLATE                                             │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ Email khách hàng nhận được:                                   │
│                                                               │
│   • Subject: 🎉 License Key OCR Tool - XXXX-XXXX-XXXX-XXXX   │
│   • Design đẹp (HTML)                                         │
│   • License key nổi bật (có thể copy)                         │
│   • Hướng dẫn kích hoạt 5 bước                                │
│   • Thông tin support                                         │
│   • Responsive trên mobile                                    │
│                                                               │
└───────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────┐
│ 🛠️ VÍ DỤ CODE                                                 │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ Gửi email trong Python:                                       │
│                                                               │
│   from license_server.email_sender import send_license_email  │
│                                                               │
│   result = send_license_email(                                │
│       to_email="customer@example.com",                        │
│       license_key="ABCD-1234-EFGH-5678",                      │
│       customer_name="Nguyễn Văn A",                           │
│       order_id="ORDER-001",                                   │
│       plan_type="lifetime"                                    │
│   )                                                           │
│                                                               │
│   if result['success']:                                       │
│       print(f"✅ Sent via {result['account_used']}")          │
│                                                               │
└───────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────┐
│ 🚨 QUAN TRỌNG - LƯU Ý                                         │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ 1. LƯU LẠI APP PASSWORDS:                                     │
│    • Không thể xem lại được                                   │
│    • Đã lưu trong email_config.py                             │
│    • Backup file này cẩn thận!                                │
│                                                               │
│ 2. BẢO MẬT:                                                   │
│    • KHÔNG PUSH email_config.py lên GitHub                    │
│    • Add vào .gitignore                                       │
│    • Giữ App Password bí mật                                  │
│                                                               │
│ 3. GIỚI HẠN:                                                  │
│    • Gmail: 500 emails/account/day                            │
│    • Tổng: 1000 emails/day                                    │
│    • Reset tự động lúc 00:00                                  │
│                                                               │
└───────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────┐
│ 📖 TÀI LIỆU                                                   │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ Chi tiết: Đọc file EMAIL_SYSTEM_GUIDE.md                      │
│                                                               │
│ Troubleshooting: Xem phần "🛠️ Troubleshooting" trong guide    │
│                                                               │
└───────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────┐
│ ✅ CHECKLIST                                                  │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│ [x] Tạo 2 tài khoản Gmail                                     │
│ [x] Bật 2-Step Verification                                   │
│ [x] Tạo App Password                                          │
│ [x] Cấu hình email_config.py                                  │
│ [x] Tạo email_sender.py                                       │
│ [x] Tích hợp vào license server                               │
│ [x] Tạo test script                                           │
│ [ ] TEST GỬI EMAIL ← BẠN CẦN LÀM NGAY BÂY GIỜ!               │
│ [ ] Deploy production                                         │
│                                                               │
└───────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════

🎉 HỆ THỐNG ĐÃ SẴN SÀNG!

Hãy chạy ngay:

    python test_email_config.py

để test gửi email và đảm bảo mọi thứ hoạt động!

═══════════════════════════════════════════════════════════════

📧 Support: hoangtuan.th484@gmail.com
📝 Guide: EMAIL_SYSTEM_GUIDE.md

═══════════════════════════════════════════════════════════════

