╔══════════════════════════════════════════════════════════════╗
║          HỆ THỐNG LICENSE - HƯỚNG DẪN NHANH                  ║
║          Vietnamese OCR Tool                                 ║
╚══════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────┐
│  🎯 TỔNG QUAN                                                │
└──────────────────────────────────────────────────────────────┘

Hệ thống license hoàn chỉnh để:
✅ Bán license cho phần mềm OCR
✅ Quản lý license keys  
✅ Xác thực license tự động
✅ Admin panel quản lý khách hàng
✅ Website bán hàng đẹp mắt

┌──────────────────────────────────────────────────────────────┐
│  📁 CẤU TRÚC FILES                                           │
└──────────────────────────────────────────────────────────────┘

license_server/
├── app.py                  ⭐ Backend server (Flask API)
├── requirements.txt        📦 Dependencies
├── templates/
│   ├── index.html         🌐 Trang bán license
│   └── admin.html         ⚙️ Admin panel
└── licenses.db            💾 Database (auto-created)

license_client.py           📱 Module xác thực license
ocr_tool_licensed.py        🔐 OCR app có license
test_license_system.py      🧪 Test automation

Docs:
├── LICENSE_SYSTEM_README.md      📚 Hướng dẫn đầy đủ
├── QUICK_START_LICENSE.md        ⚡ Bắt đầu nhanh
├── ARCHITECTURE.md               🏗️ Kiến trúc hệ thống
└── LICENSE_SYSTEM_SUMMARY.md     📊 Tổng kết

┌──────────────────────────────────────────────────────────────┐
│  🚀 CÁCH SỬ DỤNG (3 BƯỚC)                                    │
└──────────────────────────────────────────────────────────────┘

╔═══ BƯỚC 1: CÀI ĐẶT ═══╗

1. Cài dependencies:
   cd license_server
   pip install -r requirements.txt

2. Đổi Admin API Key:
   Mở file: license_server/app.py
   Tìm dòng: ADMIN_API_KEY = 'your-secure...'
   Đổi thành: ADMIN_API_KEY = 'cua-ban-2025'

╔═══ BƯỚC 2: CHẠY SERVER ═══╗

Cách 1 (Dễ):
   Double-click: start_license_server.bat

Cách 2 (Manual):
   cd license_server
   python app.py

→ Server chạy tại: http://127.0.0.1:5000

╔═══ BƯỚC 3: TẠO LICENSE ═══╗

1. Mở trình duyệt: http://127.0.0.1:5000/admin

2. Nhập Admin API Key (key bạn vừa đặt ở bước 1)

3. Click "Làm mới danh sách"

4. Tạo license mới:
   - Chọn gói: Lifetime / Yearly / Monthly
   - Số lượng: 1
   - Email: test@example.com
   - Click "🎁 Tạo License"

5. Copy license key (dạng: XXXX-XXXX-XXXX-XXXX)

6. Gửi cho khách hàng!

┌──────────────────────────────────────────────────────────────┐
│  💻 TEST TRÊN OCR APP                                        │
└──────────────────────────────────────────────────────────────┘

1. Chạy OCR app có license:
   python ocr_tool_licensed.py

2. Nhập license key khi được hỏi

3. Xong! App đã được kích hoạt

Menu chuột phải vào tray icon:
   → License Info: Xem thông tin
   → Deactivate License: Xóa license

┌──────────────────────────────────────────────────────────────┐
│  🌐 WEBSITE BÁN LICENSE                                      │
└──────────────────────────────────────────────────────────────┘

URL: http://127.0.0.1:5000/

Tính năng:
✅ 3 gói giá: Monthly (99k), Yearly (799k), Lifetime (1.99M)
✅ Responsive design (mobile-friendly)
✅ Hiển thị tính năng nổi bật
✅ Thông tin liên hệ
✅ Modal popup khi click mua

Tùy chỉnh:
→ Mở: license_server/templates/index.html
→ Tìm class "plan-price" để đổi giá
→ Tìm "support@ocrvietnamese.com" để đổi email

┌──────────────────────────────────────────────────────────────┐
│  📊 ADMIN PANEL                                              │
└──────────────────────────────────────────────────────────────┘

URL: http://127.0.0.1:5000/admin

Chức năng:
✅ Thống kê real-time (tổng license, đã kích hoạt, active)
✅ Tạo license theo từng gói
✅ Xem danh sách tất cả licenses
✅ Vô hiệu hóa license
✅ Copy license key một click

Cách dùng:
1. Nhập Admin API Key
2. Dashboard hiện ra
3. Tạo/quản lý licenses
4. Xem logs và statistics

┌──────────────────────────────────────────────────────────────┐
│  🧪 TEST HỆ THỐNG                                            │
└──────────────────────────────────────────────────────────────┘

Chạy test tự động:
   python test_license_system.py

Sẽ test:
✓ Tạo 3 licenses (lifetime, yearly, monthly)
✓ Kích hoạt license lần đầu
✓ Validate với cùng máy (OK)
✓ Validate với máy khác (FAIL - đúng!)
✓ Vô hiệu hóa license
✓ Validate license đã vô hiệu (FAIL - đúng!)
✓ Thống kê

┌──────────────────────────────────────────────────────────────┐
│  🔐 BẢO MẬT                                                  │
└──────────────────────────────────────────────────────────────┘

Machine Binding:
→ Mỗi license CHỈ kích hoạt được 1 máy
→ Sử dụng hardware fingerprint (hostname + MAC + CPU)
→ Hash SHA256 để bảo mật

API Protection:
→ Admin endpoints yêu cầu X-Admin-Key header
→ License keys unique trong database
→ Validation logs được lưu

┌──────────────────────────────────────────────────────────────┐
│  💰 GÓI GIÁ ĐÃ THIẾT LẬP                                     │
└──────────────────────────────────────────────────────────────┘

┌─────────────┬────────────┬────────────┬─────────────────────┐
│ Gói         │ Giá        │ Thời hạn   │ Tính năng          │
├─────────────┼────────────┼────────────┼─────────────────────┤
│ Monthly     │ 99,000₫    │ 30 ngày    │ Đầy đủ             │
│ Yearly      │ 799,000₫   │ 365 ngày   │ + Support ưu tiên  │
│ Lifetime    │ 1,999,000₫ │ Vĩnh viễn  │ + VIP Support      │
└─────────────┴────────────┴────────────┴─────────────────────┘

Đổi giá: Sửa trong templates/index.html

┌──────────────────────────────────────────────────────────────┐
│  📡 API ENDPOINTS                                            │
└──────────────────────────────────────────────────────────────┘

PUBLIC:
POST /api/validate              Xác thực license

ADMIN (cần X-Admin-Key):
POST /api/admin/generate        Tạo license keys
GET  /api/admin/licenses        Danh sách licenses
POST /api/admin/deactivate      Vô hiệu hóa
GET  /api/admin/stats           Thống kê

WEB:
GET  /                          Landing page
GET  /admin                     Admin panel

┌──────────────────────────────────────────────────────────────┐
│  🎯 QUY TRÌNH BÁN LICENSE                                    │
└──────────────────────────────────────────────────────────────┘

1. Khách truy cập website (/)
2. Chọn gói và thanh toán
3. Admin nhận thông báo
4. Admin vào /admin, tạo license key
5. Gửi key cho khách qua email
6. Khách nhập key vào OCR app
7. License được kích hoạt
8. Khách dùng app bình thường

┌──────────────────────────────────────────────────────────────┐
│  🚀 DEPLOY LÊN PRODUCTION                                    │
└──────────────────────────────────────────────────────────────┘

Với VPS/Cloud:
1. Upload code lên server
2. Cài dependencies: pip install -r requirements.txt
3. Cài Gunicorn: pip install gunicorn
4. Chạy: gunicorn -w 4 -b 0.0.0.0:5000 app:app
5. Setup Nginx reverse proxy
6. Setup SSL với Let's Encrypt

Chi tiết xem: LICENSE_SYSTEM_README.md (phần Deploy)

┌──────────────────────────────────────────────────────────────┐
│  ❓ TROUBLESHOOTING                                          │
└──────────────────────────────────────────────────────────────┘

❌ Lỗi: "Cannot connect to server"
→ Đảm bảo server đang chạy (python app.py)

❌ Lỗi: "Unauthorized"  
→ Kiểm tra Admin API Key đúng chưa

❌ Lỗi: "License already activated"
→ Đúng! 1 license = 1 máy. Dùng Deactivate để chuyển máy

❌ Lỗi: "Module not found"
→ Cài dependencies: pip install -r requirements.txt

┌──────────────────────────────────────────────────────────────┐
│  📚 ĐỌC THÊM                                                 │
└──────────────────────────────────────────────────────────────┘

QUICK_START_LICENSE.md      → Bắt đầu nhanh (5 phút)
LICENSE_SYSTEM_README.md    → Hướng dẫn đầy đủ chi tiết
ARCHITECTURE.md             → Kiến trúc & flow diagrams
LICENSE_SYSTEM_SUMMARY.md   → Tổng kết & highlights

┌──────────────────────────────────────────────────────────────┐
│  📞 HỖ TRỢ                                                   │
└──────────────────────────────────────────────────────────────┘

Email: support@ocrvietnamese.com
Phone: 0123 456 789

┌──────────────────────────────────────────────────────────────┐
│  ✅ CHECKLIST                                                │
└──────────────────────────────────────────────────────────────┘

Setup:
□ Đã cài dependencies (pip install -r requirements.txt)
□ Đã đổi ADMIN_API_KEY trong app.py
□ Đã chạy server thành công
□ Đã mở được admin panel

Testing:
□ Đã tạo được license key
□ Đã test validate license
□ Đã test OCR app với license
□ Đã chạy test_license_system.py

Production:
□ Đã đổi giá trong index.html
□ Đã đổi email/phone liên hệ
□ Đã setup payment gateway
□ Đã deploy lên server

┌──────────────────────────────────────────────────────────────┐
│  🎉 HOÀN TẤT!                                                │
└──────────────────────────────────────────────────────────────┘

Hệ thống license đã sẵn sàng sử dụng!

Tính năng:
✅ Backend API hoàn chỉnh
✅ Frontend web đẹp mắt
✅ Admin panel đầy đủ
✅ Tích hợp vào OCR app
✅ Test automation
✅ Documentation chi tiết

Ready to start selling! 🚀💰

═══════════════════════════════════════════════════════════════
           © 2025 Vietnamese OCR Tool
           Made with ❤️ in Vietnam 🇻🇳
═══════════════════════════════════════════════════════════════

